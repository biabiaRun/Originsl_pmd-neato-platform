<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Spectre API Documentation: Change Log</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Spectre API Documentation"/>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pmdlogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Spectre API Documentation
   &#160;<span id="projectnumber">4.7.0.319</span>
   </div>
   <div id="projectbrief">Time-Of-Flight reference implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Change Log </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Spectre 4.7.0</h2>
<h4>General</h4>
<ul>
<li>Added support for the new Dutton calibration configuration to libCalibration.</li>
<li>Added support for new processing type (NG) which is available for both standard &amp; checker-board imagers. NG processing can be requested through the basic configuration.</li>
</ul>
<h4>Build System &amp; Thirdparty Dependecies</h4>
<ul>
<li>Refactored the whole build system so that it conforms more to CMake best-practices.</li>
<li>Simplified the internal build processes significantly.</li>
<li>CMake 3.15 is now required to build Spectre.</li>
<li>All thirdparty dependencies are now as (unaltered) ZIP archives, and Spectre specific patches are applied during the build process.</li>
<li>Updated googletest/gmock to version 1.10</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>clang-format 8.0 is now used for code formatting. The respective rule file is now part of the Spectre source code.</li>
<li>The new formatting rules have been applied to the whole code base.</li>
</ul>
<h2>Spectre 4.6.0</h2>
<h4>General</h4>
<ul>
<li>Added spectreJgfTool to dump information about a JGF</li>
<li>Added a new processing type GRAY_IMAGE, and a matching backend implementation<ul>
<li>The new mode only computes an improved gray image from an intensity image with illumination on &amp; off</li>
<li>Depth data is not computed in this mode</li>
</ul>
</li>
</ul>
<h3>Bugfixes</h3>
<ul>
<li>Auto exposure is now supported for one-frequency in the cbFast_opt backend</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Removed several no longer needed files</li>
<li>Moved rrfLib/rdsReader from contrib to inputReader</li>
<li>Moved all thirdparty code to the contrib folder</li>
</ul>
<h2>Spectre 4.5.0</h2>
<h4>General</h4>
<ul>
<li>Added support for straylight removal for checker-board imagers in backend cbFast_ref</li>
<li>Added support for hole filling in cbFast_ref</li>
<li>Added support for the new Cope calibration configuration to libCalibration.</li>
</ul>
<h2>Spectre 4.4.0</h2>
<h4>General</h4>
<ul>
<li>Improved cbFast_opt pipeline's performance on ARM and x86</li>
<li>cbFast_opt now supports one-frequency use-cases</li>
<li>cbFast_opt is now available for all imagers of type cb independent of their resolution</li>
<li>Added a new pipeline type cbBinned which delegates the depth computation from cb to the ws pipeline, at the cost of a reduced resolution</li>
<li>Refactored multi-threading implementation for ws pipelines to allow better maintainability in the future. Multi-threading backend are now seperated from their single-threded counter parts (e.g., ws_x86 vs. ws_x86Multi)</li>
<li>Renamed cmake defines for enabling/disabling calibration formats to be consistent with the Spectre naming convention</li>
</ul>
<h2>Spectre 4.3.0</h2>
<h4>General</h4>
<ul>
<li>Spectre 4.3 features a complete pipeline (re)-implementation for scaled images which is a first step for lowered computational load.</li>
<li>The new pipeline includes<ul>
<li>smoothingFilter</li>
<li>filterAdaptiveNoise</li>
<li>filterNFreq</li>
<li>filterFlyingPixel</li>
<li>holeFilling</li>
</ul>
</li>
<li>The Halide license has been added to the ThirdPartySoftware.txt as the new pipeline uses Halide and its runtime.</li>
<li>Added ISpectre::backendId to request an identifier of the currently used pipeline implementation.</li>
</ul>
<h4>Bugfixes</h4>
<ul>
<li>Fixed an uninitialized memory error in spectreCalibrationLibInternUnitTest</li>
</ul>
<h3>Known issues</h3>
<p><b>Note:</b> These issues only affect new scaled images. Older images are not affected:</p>
<ul>
<li>Not all combinations of algorithms are supported by the new pipeline. If a not supported combination is selected, the implementation falls back to the slower reference implementation.</li>
<li>The new pipeline is not available in the MacOSX version.</li>
<li>The optimization process for reducing the computational load has not been done throughout all platforms completely. Further optimizations are planned for future release.</li>
</ul>
<h2>Spectre 4.2.0</h2>
<h4>General</h4>
<ul>
<li>Added 11x11 binning</li>
<li>Added RDS support</li>
<li>Added tests:<ul>
<li>spectreSpectreSystemTest with spectreOnly test</li>
<li>tests for ArrayHolder / ArrayReference</li>
</ul>
</li>
</ul>
<h4>Bugfixes</h4>
<ul>
<li>Fixed a possible race-condition in the hole-filling multi-threaded implementation</li>
</ul>
<h2>Spectre 4.1.0</h2>
<p>Spectre 4.1 is the first release to support scaled images. The implementation is optimized for readability. It starts with a limited set of algorithms:</p>
<ul>
<li>smoothingFilter</li>
<li>filterAdaptiveNoise</li>
<li>filterNFreq</li>
<li>filterFlyingPixel</li>
</ul>
<p>Further algorithms, and a backend optimized for computational speed will be added in later versions.</p>
<h4>Misc.</h4>
<ul>
<li>Extended spectreRrfParameterSetter to remove parameters from an input file</li>
<li>Added a tool to exchange the calibration data in an RRF</li>
<li>Added support for XYZ reference data in system tests</li>
<li>Removed remaining references to spectre3</li>
<li>Moved VariantTest to common to match the new location of Variant in Spectre 4.0</li>
<li>Adapted AstonInitTest to run for all backends compiled into libSpectre/libProcessing</li>
<li>libCalibration will now skip unknown fields in JGF files instead of returning an error</li>
<li>Fixed a bug to remove a possible "fixed grid" which does not depend on the actual image contents in the MPI algorithm.</li>
</ul>
<h2>Spectre 4.0.0</h2>
<p>New major release of Spectre with numerous changes to the internals as well the API layer.</p>
<h4>Important Changes</h4>
<ul>
<li>Reconfiguration of Spectre now is based on a two step approach: Users first select a basic configuration (e.g., modulation frequencies), and can select in the next step the available extended options.</li>
<li>API and depth-compuation backend has been decoupled.</li>
<li>Multi-threading has been moved from the API layer to the libProcessing layer.</li>
<li>Multiple depth-computation backends are now available in libSpectre. The API automatically selects one based on the requested configuration. More optimized backends might be added in the future.</li>
</ul>
<h4>Known Issues</h4>
<ul>
<li>The documentation for libProcessing, and the multi-threading architecture is no longer up to date. It will be improved in the following releases of Spectre 4.</li>
<li>The IProcessingBackend interface is not fully stable, and might be altered later on. This should not result in any changes for API users.</li>
<li>The ProcessingDispatcher, and the CMake configuration is still available in the 4.0.0 release for legacy reasons. But the API will ignore it, and use the new dynamic backend selection. It will be removed completely in later iterations of Spectre 4.</li>
</ul>
<h2>Spectre 3.13.3</h2>
<h4>Calibration</h4>
<p>Added a new field SPECTRE_BENTLEY_IMAGER_TYPE to indicate if a calibration is for scaled images (type = 1) or for dense images (type = 0). If the field is not present in a calibration file, a dense image is assumed.</p>
<h2>Spectre 3.13.2</h2>
<h4>Bugfixes</h4>
<p>Fixed a possible race condition in the hole filling algorithm</p>
<h2>Spectre 3.13.1</h2>
<h4>Bugfixes</h4>
<p>Upper threshold for consistency tolerance increased to 4.</p>
<h2>Spectre 3.13.0</h2>
<h4>General</h4>
<ul>
<li>Added optional smoothing filter</li>
<li>Added optional hole filling algorithm to fill sole flagged / unflagged pixels</li>
<li>Added option to flag pixels where the noise prediction is higher than the SBI activation threshold</li>
<li>Internal refactorings of API in preparation for Spectre 4</li>
</ul>
<h4>Bugfixes</h4>
<ul>
<li>Renamed remaining occurences of PMD_SYSTEM_TARGET to SPECTRE_SYSTEM_TARGET</li>
<li>spectrePowerMeasurement once again handles individual parameters on the command line</li>
<li>Stale system test files during remote tests on Linux are now removed during the automatic build</li>
</ul>
<h2>Spectre 3.12.0</h2>
<h4>General</h4>
<ul>
<li>Removed adaptive binning feature</li>
<li>A new version of libSpectre3 (libSpectre3_calib) is now provided for inclusion with the pmd ToF calibration software</li>
</ul>
<h3>Bugfixes</h3>
<ul>
<li>Fixed a critical bug which lead to wrong computation results if the straylight approximation option was used in combination with multi-threading, and specific camera resolustions.</li>
<li>Prevent usage of ARM NEON version with resolutions not divisible by 4, because this is not supported.</li>
<li>Straylight removal once again works if used together with global binning</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Refactored binning code to avoid unecessary memory copies</li>
<li>Added unit test for phase noise calculation</li>
<li>Fixed warnings if CMake &lt; 3.7 is used</li>
<li>libCalibration now uses FLT_MAX instead of NaN for uninitialized fields to avoid several issues in combination with finite-math</li>
<li>rrfParameterSetter now supports SpectreProcessingFlag, that is, parameters not supported by Royale, but only by Spectre</li>
</ul>
<h3>Spectre 4 Preparations</h3>
<ul>
<li>Refactored libProcessing to support multiple depth-processing implementations.</li>
<li>The internal calibration structure is no longer changed during reconfiguration, instead libProcessing will use a shadow (intermediate) calibration for changes if they are necessary</li>
</ul>
<h2>Spectre 3.11.0</h2>
<h3>General</h3>
<ul>
<li>Added a new calcAutoExposure algorithm. The new exposure times are now calculated based on raw data and fpn. If no calibration is present a fixed value for fpn will be used instead.</li>
</ul>
<h3>Misc.</h3>
<ul>
<li>Added support for changing parameters in system test RRFs.</li>
<li>Added an IExtendedSpectre interface, so that new features for Spectre 4.0 can be added internally without exposing them to the public interface.</li>
</ul>
<h2>Spectre 3.10.0</h2>
<h3>General</h3>
<ul>
<li>Added support to control the accuracy of the stray light model. Spectre defaults now to an approximation level of 4 which will lower the computational load of the stray light removal algorithm significantly. The old behavior can be restored by setting the approximation level to 1.</li>
<li>Optimized the filter2Freq implementation on the ARM platform</li>
<li>Changed the behavior of the getSpectre function<ul>
<li>getSpectre without any hint defaults to multi threaded processing if neither the reference platform is active, nor an auto exposure only fake calibration is used</li>
<li>For the reference platform or the auto exposure only fake calibration the default is single threaded processing</li>
<li>Multi threaded processing defaults now to two threads</li>
</ul>
</li>
</ul>
<h4>Bugfixes</h4>
<ul>
<li>Fixed documentation generation for libProcessing</li>
<li>Fixed a bug which could lead to stripes of flagged pixels in the depth image if global binning was activated</li>
<li>InspectorSpectre now works again together with gdbserver, and remote debugging</li>
</ul>
<h3>Misc.</h3>
<ul>
<li>Switched to Android NDK 16b for prebuilt Spectre binaries</li>
<li>Android NDK 10e toolchain support is deprecated and will be removed in a future release</li>
<li>Added various missing copyright headers in contrib/cmake folders</li>
<li>Removed no longer required files from contrib/cmake folders</li>
</ul>
<h2>Spectre 3.9.0</h2>
<h3>General</h3>
<ul>
<li>Added support for multi-threading if binning is active</li>
<li>Improved ARM NEON implementation of phase calculation</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Extended spectrePowerMeasurement with additional metrics</li>
<li>Documented an issue if SpectreStatus.hpp is included together with wingdi.h</li>
<li>Removed unecessary copies for one frequency use-cases</li>
</ul>
<h4>Bugfixes</h4>
<ul>
<li>Fixed a possible source of NaN results during the two-frequency phase</li>
<li>Fixed a critical bug which could crash Spectre in the MPI algorithm</li>
<li>Fixed a major performance regression of the Linux AARCH64 build if MPI was enabled</li>
<li>Fixed a bug which crashed Spectre if non-calibrated frequencies were requested for calculation</li>
</ul>
<h2>Spectre 3.8.0</h2>
<h3>General</h3>
<ul>
<li>Changed semantics for multi-threading, so that the internal processing will apply the given number of threads if possible, otherwise it will fallback to single-threading (this is transparent for the user)</li>
<li>Adapted noiseThreshold parameter so that lower inputs are allowed</li>
<li>Added query function for unambiguous range</li>
<li>Updated Spectre libs to gcc5, Ubuntu 14.04 is now no longer supported instead Ubuntu 16.04 is set as default target for 32/64 Bit Linux on x86</li>
</ul>
<h4>Tests</h4>
<ul>
<li>Created a unit test for flagMPIAmp algorithm</li>
</ul>
<h4>Matlab Support</h4>
<ul>
<li>Added a ThirdPartySoftware.txt to the Spectre Matlab package</li>
<li>Added an option to remove outliers from InspektorSpectre's compare view</li>
</ul>
<h4>Calibration Caching</h4>
<ul>
<li>Added caching mechanism for different calibrations to avoid redundant calculations</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Migrated SpectrePowerMeasurement-tool to Spectre3 API</li>
<li>Fixed a Visual Studio IDE build error where rrfLib has not been added</li>
</ul>
<h2>Spectre 3.7.0</h2>
<h3>General</h3>
<ul>
<li>Added offical build for Linux ARM64 (Reference platform: Ubuntu 16.04 on ODROID C2)</li>
<li>Multi-threading is now supported if straylight removal is activated</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Improved unit test coverage for MPI algorithms</li>
<li>AdaptiveNoiseFilterType can no longer be changed for ARM platforms</li>
</ul>
<h2>Spectre 3.6.0</h2>
<h4>General</h4>
<ul>
<li>Fixed a critical bug, which lead to a wrong return value for getOutputWidth/Height if the adaptive binning was enabled</li>
<li>Changed MPI minimum limits</li>
<li>Generate SpectreParameter struct automatically based on Parameter.def</li>
<li>Added support for persistent initialization</li>
</ul>
<h4>Tests</h4>
<ul>
<li>Added new system data containing worst-case scenarios for the 2-frequency algorithm</li>
<li>Decoupled Spectre API tests from libCalibration</li>
<li>Added unit tests for Spectre 3 RRF reader</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Improved Spectre RRF support to enable processing of RRFs recorded with the calibration use-case</li>
<li>Fixed various memory errors reported by ASAN/Valgrind</li>
</ul>
<h2>Spectre 3.5.0</h2>
<h4>General</h4>
<ul>
<li>Added new option "useAdaptiveBinning" which automatically adapts the "GlobalBinning" option in each frame based on the computed depth-image</li>
<li>If GlobalBinning is used, Spectre will no longer inflate the computed depth-image, but output the image with the binned resolution.</li>
<li>Fixed a bug which made the persistance initialization format unusable for cameras with a larger resolution</li>
</ul>
<h4>Matlab Support</h4>
<ul>
<li>Extended Matlab bridge with support for writing reference data</li>
<li>Added Matlab wrapper to official release package</li>
<li>Removed redundant code from the Matlab bridge</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Split test for processing RRF-Support</li>
<li>Fixed calculation of mean-distance in Spectre sample</li>
<li>Use CMake package configuration for binary packaging instead of hard-coded shell scripts</li>
</ul>
<h2>Spectre 3.4.0</h2>
<h4>General</h4>
<ul>
<li>Implementation and integration of the binning algorithm</li>
<li>Optimize memory management of amplitudes data</li>
</ul>
<h4>C++ - API</h4>
<ul>
<li>Added implementation of data format reader/writer for persistentInitialization</li>
<li>Added system tests for the Spectre AutoExposure feature</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Modified InspektorSpectre, works now for calibration with and without PSF</li>
<li>Integration of a new Spectre Matlab bridge into the Matlab wrapper</li>
<li>Added support for getting persistent initalization data and unit tests</li>
<li>Added Spectre API documentation to Spectre binary package</li>
<li>Modified the tool for reading/writing rrf data files based on the new Spectre API</li>
</ul>
<h2>Spectre 3.3.0</h2>
<h4>General</h4>
<p>Spectre now has experimental support for multi-threading. The depth-image can be computed with up to 3 threads. To enable the experimental feature SpectreFactoryHint::MULTI_THREADED can be passed to the factory function <a class="el" href="namespacespectre.html#ad6a87b732b81c5bffb8bc4644461cd79" title="Creates a new ISpectre instance.">spectre::getSpectre</a>. In this case Spectre will offer a new ParameterKey::NUMBER_THREADS which can be used to change the number of threads on-the-fly. <em>Note:</em> Using more than one thread is not supported if the sparse-point cloud or straylight correction is activated.</p>
<h4>Misc.</h4>
<ul>
<li>Added an additional documentation covering only the Spectre API, but not the processing internals.</li>
<li>Fixed a memory leak in spectreApiSample</li>
<li>Added unit tests for the RRF-Reader</li>
<li>Improved mocking support for C functions</li>
</ul>
<h2>Spectre 3.2.0</h2>
<h4>General</h4>
<ul>
<li>Corrected the company name in license files</li>
<li>Remove old CMake artifact which creates the "royale_version.prop" file</li>
</ul>
<h4>C++ - API</h4>
<ul>
<li>Added a version of Spectre which only provides an AutoExposure processing</li>
<li>Added functions for safe (de-)allocation of spectre::Configuration from outside Spectre's shared object</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Replace the old test data for straylight with a new test data set (incl. a straylight scene, and activated correction)</li>
<li>Added a new tool to edit parameters of existing RRF files</li>
<li>Switched from dynamic to a static allocation of the LensCenter and calibrationROI</li>
<li>Make SpectreParameter struct const in processing</li>
<li>Fixed a bug in a failing unit test and in the testing script which causes the script to continue after an error</li>
<li>Optimize the AutoExposure computation logic</li>
</ul>
<h2>Spectre 3.1.0</h2>
<h4>C++ - API</h4>
<ul>
<li>NUM_FREQUENCIES parameter is now always available</li>
<li>MPI related parameters are no longer available for one frequency calibrations</li>
<li>Fixed a bug which lead to unneeded processing reinitializations after a call to Spectre::reconfiguration()</li>
<li>Added a C++ API sample</li>
<li>Invalid parameter combinations (e.g., enabling MPI if NUM_FREQUENCIES is set to 1) are now rejected during Spectre::reconfigure()</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>filter2Freq can now disabled/enabled</li>
<li>Improved Spectre architecture documentation</li>
<li>Simplified C processing sample</li>
<li>Clean-up of Matlab wrappers</li>
<li>InspektorSpectre now works with the Spectre 3.0 processing structures</li>
<li>Improved CMake flag handling for AARCH64 on Linux ARM</li>
<li>Fixed a bug which prevented successful calibration creation in the "Junge
  Grimme" writer sample</li>
</ul>
<h2>Spectre 3.0.0</h2>
<p>Switched to the new C++ - API. The old API is no longer supported. During the switch major changes have taken place in the C processing and C calibration handling code. This new version also defines a well-defined ABI for each platform, and provides dynamic libraries by default.</p>
<h2>Spectre 2.10.0</h2>
<p><b>Note:</b> This is the last regular release of the Specte 2.x series. Spectre 3.x will incorporate major changes to the public interface.</p>
<h4>General</h4>
<ul>
<li>Changed Spectre license</li>
<li>Added optional support for straylight correction</li>
<li>Converted various tests to real unit tests</li>
<li>Support for custom calibration fields has been added to the interface</li>
<li>calcCartesianCoordinates is now available in an optimized ARM variant</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Fixed various "unused function" warnings for GCC/clang</li>
<li>All platforms now use the same CMake version (3.6.3)</li>
<li>Documentation package no longer contains runtime DLL, but only the HTML documentation</li>
<li>Fixed a possible out-of-memory error due to randomized test data</li>
<li>Fixed a bug in the phase wiggling correction</li>
</ul>
<h2>Spectre 2.9.5</h2>
<h4>General</h4>
<ul>
<li>C parts of Spectre are now taken into account for building the doxygen documentation</li>
<li>Added ThirdPartySoftware.txt containing an overview of used third party software packages</li>
<li>A precomputed mask is now used on all platforms during the processing</li>
<li>Support for a I1P4I1I1 input has been added to the AstonInputBuilder</li>
</ul>
<h4>Calibration</h4>
<ul>
<li>Validation for a required minimum number of entries has been added to the "Junge Grimme" format</li>
<li>Support for storing an optional lens center has been added to the "Bentley" calibration configuration</li>
<li>Support for storing an optional parametrization of a point spread function has been added to the "Bentley" calibration configuration</li>
<li>Tests for the "Junge Grimme" writer interface have been added</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>The automaticTestScript.bat should now return a non-zero value if a test fails</li>
<li>Build scripts for jg_matlab have been added</li>
<li>Test for filterAdaptiveNoise has been converted to a real unit test</li>
<li>Errors during initialization of Spectre will now be reported back by the SpectreFactory</li>
<li>Sample code has been cleaned-up</li>
<li>The lookup table for the atan is now coded statically, and no longer computed on compile time.</li>
</ul>
<h2>Spectre 2.9.0</h2>
<h4>General</h4>
<ul>
<li>Added support to read/write RRFv3 files with reference data</li>
<li>Build rrfLib always as static library</li>
<li>Removed reference to PMD_DumpInfo throughout the processing chain, and its tests</li>
<li>Added support for building with Android NDK13</li>
<li>Do a proper matching of calibration and input probe data if modulated intensity frames are used</li>
<li>Refactored compare framework for all unit tests to improve readability</li>
</ul>
<h4>Calibration</h4>
<ul>
<li>Improved unit test coverage for encoding/decoding of values in the "Junge
  Grimme" calibration format</li>
<li>Fixed edge in readCalib (numPixel = 0)</li>
<li>Added Matlab support for writing "Junge Grimme" calibration files</li>
<li>Added "Product code" as optional field for Bentley calibration configuration</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Changed index width for unscrambling raw data to be at least 32-bits to prevent overflows for 100k cameras</li>
<li>Use proper values in calc2PhaseDistance unit test</li>
<li>Switched to gmock1.8.0</li>
<li>Added ChangeLog to Royale package</li>
<li>Added unit tests for processing initialization (spectreAstonInit)</li>
<li>Fixed various cppCheck issues</li>
<li>Fixed swapped numColumns/numRows in SpectreOutput for x86 platform</li>
<li>Added test automation for Raspberry PI builds</li>
<li>Adapted all automation scripts for the new CI infrastructure</li>
</ul>
<h2>Spectre 2.8.5</h2>
<h4>General</h4>
<ul>
<li>Added a tool for inspecting the internal state of the processing pipeline</li>
</ul>
<h4>Calibration</h4>
<ul>
<li>Added unit tests for individual encode/decode routines for the "Junge 
  Grimme" Calibration format.</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Removed members from processing structs (ARM code for wiggling tables, FrameSetComposition, illuminationModes, imgagerModes, phaseOrder, sensorROI/subROI), because they are never used, have no purpose or are redudant.</li>
<li>Fixed a 32-bit build error bug with the clang compiler, because of arm NEON code.</li>
<li>Changed the NEON 32-bit intrinsic code for arm 32-bit cross-compiling build with clang compiler.</li>
</ul>
<h2>Spectre 2.8.0</h2>
<h4>Calibration</h4>
<ul>
<li>libcalibration now supports the new "Junge Grimme" calibration format with the "Bentley" calibration configuration</li>
<li>libcalibration now includes a writer with C interface for creating "Junge
  Grimme" files</li>
<li>Added documentation for libcalibration (usage, specification for calibration formats)</li>
<li>Added new samples for libcalibration (reading and writting of calibration)</li>
</ul>
<h4>Documentation</h4>
<ul>
<li>Restructured documentation, updated outdated information</li>
<li>Removed separate processing documentation, build only one documentation for Spectre</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Removed CommonProcessingInitTest, because it is duplicated by ProcessiningInitTest</li>
<li>Fixed a bug which prevented the application of the calibrated mask if the optimization target arm was selected</li>
<li>Improved libCalibration to add function name automatically</li>
<li>Changed PMDDumpInfo into a singleton, as first step to get rid of global variables</li>
<li>Converted calcCartesianCoordinates test to proper unit tests and merged it with pointCloudTest</li>
</ul>
<h2>Spectre 2.7.5</h2>
<h4>General</h4>
<ul>
<li>Converted correctAmplitudeWiggling / flagFlyingPixel tests to proper unit tests</li>
<li>Removed unused wrapper code</li>
<li>Added support for reading Royale Recording Files (RRFv2) directly in Spectre</li>
<li>Refactored automatic testing to enable tests on remote devices during cross compiling</li>
<li>Fixed a critical bug which lead to an incorrect error code during adaptCalibration if the frame order I1P4P4 was used</li>
</ul>
<h4>Misc</h4>
<ul>
<li>Use CTEST_CUSTOMS_TESTS_IGNORE properly to allow disabling tests</li>
<li>Moved Aston tracer to common package</li>
<li>Fixed failing unit tests on FP32 platform</li>
<li>Removed a workaround for Ubuntu 32 compiler flags</li>
</ul>
<h2>Spectre 2.7.0</h2>
<h4>General</h4>
<ul>
<li>Use improved Median filter implementation on x86</li>
<li>Converted flagAmplitudeThreshold, calcAutoExposure, flagNoise, flagAsymmetry, flagMask to real unit tests</li>
<li>Unit tests for public interface of libcalibration should once again work on Windows builds</li>
</ul>
<h4>Misc</h4>
<ul>
<li>Use valid filter type (3x3) for adaptive noise filter in sample data</li>
<li>Call correct initialization function in spectrePowerMeasurement test</li>
</ul>
<h2>Spectre 2.6.5</h2>
<h4>General</h4>
<ul>
<li>Dynamic linking should once again be working under Windows. Added explicit exports for libcalibration / libprocessing</li>
<li>Fixed a serious bug which could lead to a incorrect application of phase wiggling (usage of wiggling information for the wrong frequency) in the processing initialization</li>
<li>Replaced calculation of bitSize in datadescriptor.c to make it less likely that the calculated calibration block size is wrong (e.g., prevent usage of legacy x87 FPU)</li>
</ul>
<h4>Tests</h4>
<ul>
<li>spectreToleranceTest/spectreRunTimeTest now use the libcalibration interface instead of the legacy C++ AstonCalibrationBuilder</li>
<li>Converted calcPhase / correctFPPN / calcPhase2Distance / flagSaturation / unscrambleReIm to proper unit tests without external dependencies to test data</li>
<li>Improved command line option support for power measurement test</li>
<li>Improved test coverage for reading Aston calibration files</li>
<li>Removed unused benchmarks implemented as tests</li>
<li>Fixed failing TrepnEnergyMeter tests if the date on the test device was &lt; year 2000</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Public libcalibration headers now contain proper extern "C" declarations if compiled as C++ files</li>
<li>Remove version information from libcalibration / libprocessing to ease linking for Royale</li>
<li>Improved automatic packaging on jenkins for Royale</li>
</ul>
<h2>Spectre 2.6.0</h2>
<h4>General</h4>
<ul>
<li>Support for calibrations which contain three blocks with per frequency data</li>
<li>Use SSE2 math for 32-Bit Linux (x86) builds (x87 FPU could cause a regression with the compression used in the Aston calibration format)</li>
</ul>
<h4>Calibration handling</h4>
<ul>
<li>Removed all external dependencies to unit tests</li>
<li>Fixed wrong return type in decompression routine for Aston files</li>
<li>New function to get the calibration type from a calibration handle without reparsing the file</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Use arm-rpi-4.9.3-linux-gnueabihf for ARM builds</li>
<li>Added architecture to all package names</li>
<li>Removed external dependencies for unscrambleIntensity unit tests</li>
<li>Fixed several memory leaks in unit tests</li>
</ul>
<h2>Spectre 2.5.5</h2>
<h4>General</h4>
<ul>
<li>Simplified processing sample (removed power measurement code)</li>
<li>Moved all algorithm implementation out of the header files into .inl files</li>
<li>Use radial distances for flying pixel</li>
<li>Added support for sparse point cloud computation. Can be toggled through the parameter { "Configuration", "UseSparsePointCloud" }, default is off.</li>
<li>Removed Intermediate data from C++ API</li>
<li>Support for cross-compiling to Linux ARM (Raspberry Pi)</li>
</ul>
<h4>Calibration handling</h4>
<p>Handling of calibration has been changed significantly.</p>
<ul>
<li>A new library with a C API for handling calibration (libspectre_calibration) has been added to the project</li>
<li>The library can read the new Aston format, and the old legacy TAR format</li>
<li>spectre::Spectre / spectre::SpectreFactory have been changed so that they use the new library internally in most cases</li>
<li>All calibration specific parts of the Spectre C++ API are deprecated</li>
</ul>
<h4>Misc.</h4>
<ul>
<li>Various minor bugfixes</li>
<li>Converted calcAmplitude / calcAmplitudeNoise to real unit tests (without dumped test data)</li>
</ul>
<h2>Spectre 2.5.0</h2>
<h4>General</h4>
<p>Changed the output format of the 3D coordinates. Instead of a point cloud {x,y,z} we now return {x,y,z,c} where c is a float in the interval [0.0, 1.0] describing confidence of the depth measurement. The maximum confidence is denoted by 1.0 and the minimum by 0.0.</p>
<h4>Misc.</h4>
<p>Internal refactorings as preparation for the new C processing interface:</p>
<ul>
<li>SpectreCalibration has been moved to common/calibration</li>
<li>SpectreOutput/SpectreInput/SpectreParameter have been moved to processing/processing.hpp (public interface)</li>
<li>processing/aston/astonProcessing.hpp has been moved to processing/processingInternal.hpp (only one flavor of processing will be offeredat one time)</li>
<li>SpectreIntermediate has been moved to processing/procesingInternal.hpp</li>
</ul>
<h2>Spectre 2.4.5</h2>
<h4>General</h4>
<ul>
<li>Added support for building dynamic libraries (now the default). The old behavior can be reenabled by setting the option flag SPECTRE_BUILD_SHARED to off</li>
<li>Handling of compile flags refactored<ul>
<li>Flags on Android cross compilation are now handled similarly to other supported platforms through cmake/flags.cmake.</li>
<li>User provided flags no longer overwritten during configuration.</li>
<li>Cleanup of compile flags across all platforms</li>
</ul>
</li>
</ul>
<h4>NumEmulator</h4>
<ul>
<li>Added support for saturation arithmetic</li>
<li>Fixed invalid array lengths in FPIntermediateTest</li>
<li>Added documentation</li>
</ul>
<h4>Misc</h4>
<ul>
<li>Fixed test errors under valgrind</li>
<li>Configured CTest for automatic tests properly</li>
<li>Removed TestExecutionAlgorithmPowerTest.runsAtLeast period</li>
<li>Fixed a memory leak in spectreAstonInputLoad/spectreAstonInputFree</li>
<li>Moved horrify_royale.sh for CI with the Royale project</li>
<li>horrify_royale.sh now generates a version header during the CI, and adds it to Royale</li>
</ul>
<h2>Spectre 2.4.0</h2>
<h4>General</h4>
<ul>
<li>Android ARM64 bit build is now part of the Spectre binary release</li>
<li>Added framework to measure the power consumption of individual algorithms</li>
</ul>
<h4>NumEmulator</h4>
<ul>
<li>Added processing platform using the numEmulator for 32-bit fixed-point (PoC)</li>
<li>Ported two algorithms to 32-bit fixed-point: unscrambleIntensity, calcPhaseNoise</li>
</ul>
<h4>Misc</h4>
<ul>
<li>Only append variant suffix to container wrapper if a variant is in use</li>
<li>Added support for input variants in Spectre Matlab implementation</li>
<li>Added .gitattributes to enable creating source packages through git-archive</li>
<li>Refactored several test names to comply with our new naming convention</li>
</ul>
<h2>Spectre 2.3.5</h2>
<h5>General</h5>
<ul>
<li>Renamed several libs, tests and executables so that they conform with our new naming convention.</li>
</ul>
<h5>Misc</h5>
<ul>
<li>Moved build scripts into the repository</li>
<li>Added data flow diagrams of the processing</li>
<li>Improved Matlab scripts so that they can handle raw data files besides the standard Spectre containers</li>
<li>Added support for different input "variants" (FrameSetCompositions) to the Matlab wrapper</li>
<li>Fixed several bugs in the processing wrapper</li>
</ul>
<h2>Spectre 2.3.0</h2>
<h5>General</h5>
<ul>
<li>Renamed neon platform to arm</li>
<li>Renamed general platform to reference</li>
<li>Added x86 platform</li>
</ul>
<h5>NumEmulator</h5>
<p>Added additional module numEmulator a template class based approach to emulate fundamental numerical operations, such as fixed point arithmetic on fundamental data types.</p>
<h5>ARM NEON</h5>
<ul>
<li>Combined flagAmplitude/flagAsym</li>
<li>Port flagNoise</li>
<li>Combined calcPhase2Distance/correctTemperature/correctFPPN</li>
</ul>
<h5>Misc</h5>
<ul>
<li>Batch processing tool for Spectre input</li>
<li>Added Matlab tools for visualizing Spectre containers</li>
<li>getContainer now accepts a const std::vector</li>
</ul>
<h2>Spectre 2.2.5</h2>
<h5>ARM NEON</h5>
<ul>
<li>ARM-NEON is now supported by Spectre (by setting the target platform to neon) officially</li>
<li>filterAdaptiveNoise added</li>
<li>Moved calcPixel main loop into individual algorithms</li>
</ul>
<h5>Misc</h5>
<ul>
<li>Separated initialization functions for LUTs from the respective algorithms</li>
<li>Added function getSpectreVersion() and getGitRevisionDescription() to retrieve information about the Spectre build</li>
<li>Added missing test data for wall_40cm flagMask test case</li>
<li>processingARM test removed from memcheck target</li>
</ul>
<h2>Spectre 2.1.0</h2>
<h4>Documentation</h4>
<ul>
<li>Added documentation for containers (Input, Output, Parameter, Calibration)</li>
<li>Added processing flowchart</li>
<li>Added FAQ</li>
</ul>
<h4>Matlab wrapper</h4>
<p>Matlab wrapper for all main data structures of the Spectre API added (Input, Output, Parameter, Calibration, Intermediate)</p>
<h4>Misc</h4>
<ul>
<li>Proof of concept implementation</li>
<li>Sample API Interface</li>
<li>Google Mock test environment</li>
</ul>
<h2>Spectre 2.0.5</h2>
<h4>Misc.</h4>
<p>Improved test environment, and added support for API containers (Input, Output, Parameter, Calibration)</p>
<h2>Spectre 2.0.0</h2>
<h4>General</h4>
<ul>
<li>First release of Spectre</li>
<li>Unified file format which allows serialzing/deserializing all containers</li>
<li>Different access levels to the API through activation codes</li>
</ul>
<h4>Documentation</h4>
<p>Documentation framework with support for automatic HTML/PDF generation added. Automatic generation of manuals for Spectre, and the Processing.</p>
<h4>Matlab wrapper</h4>
<p>Matlab wrapper for the Calibration container. Support for reading/writting calibration with the new Spectre format.</p>
<h4>Misc.</h4>
<ul>
<li>Profiling runtime (ARM Android)</li>
<li>Profiling performance (ARM Android) </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 19 2020 15:57:03 for Spectre API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
